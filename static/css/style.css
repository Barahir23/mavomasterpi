
:root {
  --color-background: #1c1c1c;
  --color-surface: #242424;
  --color-border: #3a3a3a;
  --color-text: #f0f0f0;
  --primary: #ff9900;
  --sidebar-width-open: 900px;      /* >=900px open width */
  --sidebar-width-collapsed: 50px;  /* collapsed width */
  --icon-size: 22px;                /* constant icon size */
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--color-background);
  color: var(--color-text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}

.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 1rem;
}
.card + .card { margin-top: 1rem; }
.card h2, .card h3 { margin: 0 0 .75rem 0; color: var(--primary); }

/* Sidebar (same on desktop + mobile) */
#app-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: var(--sidebar-width-open); /* desktop open width */
  height: 100vh;
  background: var(--color-surface);
  border-right: 1px solid var(--color-border);
  z-index: 2100;
  display: flex;
  flex-direction: column;
  transition: width .25s ease;
  overflow: hidden;
}

.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: .5rem;
  border-bottom: 1px solid var(--color-border);
}
#collapseToggle {
  background: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 10px;
  width: 34px; height: 34px;
  display: inline-flex; align-items: center; justify-content: center;
  cursor: pointer;
}

.sidebar-nav {
  display: flex; flex-direction: column;
  padding: .4rem;
  gap: .25rem;
  border-bottom: 1px solid var(--color-border);
}
.nav-item {
  display: flex; align-items: center;
  gap: .6rem;
  padding: .45rem .6rem;
  text-decoration: none;
  color: var(--color-text);
  border-radius: 10px;
  line-height: 1;
  min-height: 36px;
}
.nav-item:hover { background: #2c2c2c; }

.icon { display: inline-flex; width: var(--icon-size); height: var(--icon-size); color: var(--primary); }
.icon svg { width: 100%; height: 100%; }

.sidebar-context {
  padding: .6rem;
  overflow-y: auto;
  flex: 1 1 auto;
  min-height: 0;
}

.sidebar-footer {
  padding: .5rem;
  border-top: 1px solid var(--color-border);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: .5rem;
}
.footer-btn {
  display: inline-flex; align-items: center; justify-content: center;
  background: transparent;
  color: var(--primary); /* icons take currentColor */
  border: 1px solid var(--color-border);
  border-radius: 12px;
  width: 100%;
  height: 40px;
}
.footer-btn svg { width: var(--icon-size); height: var(--icon-size); }

#main-content {
  min-height: 100%;
  margin-left: var(--sidebar-width-open);
  padding: 1rem;
  transition: margin-left .25s ease;
}

/* Collapsed */
body.sidebar-collapsed #app-sidebar { width: var(--sidebar-width-collapsed); }
body.sidebar-collapsed #main-content { margin-left: var(--sidebar-width-collapsed); }
body.sidebar-collapsed .label,
body.sidebar-collapsed .sidebar-context > * { display: none !important; }
body.sidebar-collapsed .sidebar-footer { grid-template-columns: 1fr; } /* vertical stack */
body.sidebar-collapsed #collapseToggle { transform: rotate(180deg); }

/* Viewports narrower than 900px: sidebar open covers full viewport width */
@media (max-width: 900px) {
  #app-sidebar { width: 100vw; }
  #main-content { margin-left: 100vw; }
  body.sidebar-collapsed #app-sidebar { width: 100vw; }   /* force expanded */
  body.sidebar-collapsed #main-content { margin-left: 100vw; }
}
