:root {
  --color-background: #1c1c1c;
  --color-surface: #242424;
  --color-border: #3a3a3a;
  --color-text: #f0f0f0;
  --color-accent: #ff9900;
  --sidebar-width: 320px;
  --sidebar-width-collapsed: 50px; /* per spec */
  --icon-size: 22px;
  --icon-size-collapsed: 22px; /* fits 50px width with padding */
  --gap: .5rem;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: var(--color-background);
  color: var(--color-text);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
}

/* Cards */
.card {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 1rem;
}
.card + .card { margin-top: 1rem; }
.card h2, .card h3 { margin: 0 0 .75rem 0; color: var(--color-accent); }

/* Mobile hamburger */
#menuToggleButton {
  position: fixed;
  left: .5rem;
  top: .5rem;
  z-index: 2200;
  padding: .4rem .6rem;
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  display: none; /* nur mobil */
}

/* Sidebar */
#app-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: var(--sidebar-width);
  height: 100%;
  background: var(--color-surface);
  border-right: 1px solid var(--color-border);
  z-index: 2100;
  display: grid;
  grid-template-rows: auto auto 1fr auto; /* header, nav, context, footer */
  transition: width .25s ease, transform .3s ease-in-out;
  overflow: hidden;
}

/* Header: collapse button only (no brand) */
.sidebar-header {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  padding: .5rem;
  border-bottom: 1px solid var(--color-border);
  gap: var(--gap);
}
#collapseToggle {
  background: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: .35rem .5rem;
  cursor: pointer;
  line-height: 1;
  width: 32px;
  height: 32px;
}

/* Navigation (static pages) */
.sidebar-nav {
  display: flex; flex-direction: column;
  padding: .4rem;
  gap: .25rem;
  border-bottom: 1px solid var(--color-border);
}
.nav-item {
  display: flex; align-items: center;
  gap: .6rem;
  padding: .45rem .6rem;
  text-decoration: none;
  color: var(--color-text);
  border-radius: 8px;
  line-height: 1;
  min-height: 36px;
}
.nav-item:hover { background: #2c2c2c; }

/* Icon + Label */
.icon {
  display: inline-flex;
  width: var(--icon-size);
  height: var(--icon-size);
  line-height: var(--icon-size);
  align-items: center;
  justify-content: center;
  font-size: calc(var(--icon-size) - 2px);
}
.label { white-space: nowrap; }

/* Context area (page-specific; hidden when collapsed) */
.sidebar-context {
  padding: .6rem;
  overflow-y: auto;
}

/* Footer: reboot/shutdown (icons only, bottom; stacked when collapsed) */
.sidebar-footer {
  padding: .5rem;
  border-top: 1px solid var(--color-border);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: .5rem;
}
.footer-btn {
  display: inline-flex; align-items: center; justify-content: center;
  gap: 0; /* icons only */
  background: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
  border-radius: 10px;
  padding: .5rem .6rem;
  cursor: pointer;
  width: 100%;
  height: 38px;
  font-size: calc(var(--icon-size) - 2px);
}
.footer-btn.danger { border-color: #8b2b2b; }

/* Content area */
#main-content {
  min-height: 100%;
  margin-left: var(--sidebar-width);
  padding: 1rem;
  transition: margin-left .25s ease;
}

/* Collapsed state (Desktop) */
body.sidebar-collapsed #app-sidebar { width: var(--sidebar-width-collapsed); }
body.sidebar-collapsed #main-content { margin-left: var(--sidebar-width-collapsed); }

/* Icons scale for collapsed */
body.sidebar-collapsed .icon {
  width: var(--icon-size-collapsed);
  height: var(--icon-size-collapsed);
  line-height: var(--icon-size-collapsed);
  font-size: calc(var(--icon-size-collapsed) - 2px);
}

/* Hide labels and context when collapsed */
body.sidebar-collapsed .label,
body.sidebar-collapsed .sidebar-context,
body.sidebar-collapsed .sidebar-context > * { display: none !important; }

/* Footer layout collapsed: vertical stack */
body.sidebar-collapsed .sidebar-footer { grid-template-columns: 1fr; }

/* Rotate arrow to indicate collapsed */
body.sidebar-collapsed #collapseToggle { transform: rotate(180deg); }

/* Mobile overlay behavior */
@media (max-width: 900px) {
  #menuToggleButton { display: inline-block; }
  #app-sidebar { transform: translateX(-102%); }
  body.sidebar-open #app-sidebar { transform: translateX(0); }
  #main-content { margin-left: 0; }
  body.sidebar-open #main-content { pointer-events: none; }
}
